<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> My Dashboard</title>

    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        .container {
            width: 80%;
            margin: 80px auto;
        }
        header {
            text-align: center;
            margin-bottom: 40px;
        }
        h1 {
            color: #333;
        }
        .overview-dashboard {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-bottom: 40px;
        }
        .overview {
            display: flex;
            align-items: center;
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            flex: 1;
        }
        .profile-pic {
            width: 200px;
            height: 200px;
            background-image: url('images/profilePic.png');
            background-size: cover;
            background-position: center;
            border-radius: 50%;
            margin-bottom: 10px; /* Added margin to space it out from the upload section */
        }
        .profile-info h2 {
            margin: 0;
            color: #333;
        }
        .profile-info p {
            color: #777;
            margin: 5px 0;
        }
        .profile-info button {
            background-color: #3b8e58;
            color: #fff;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
        }
        .profile-info button:hover {
            background-color: #2d6f44;
        }
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr; /* Two columns */
            grid-template-rows: repeat(2, 1fr); /* Two rows */
            gap: 20px;
            flex: 2;
        }
        .card {
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
            text-align: center;
            position: relative; /* To position the button at the bottom-right */
        }
        .card h2 {
            margin: 10px 0;
            color: #333;
        }
        .card .value {
            font-size: 36px;
            color: #3b8e58;
        }
        .card .unit {
            font-size: 14px;
            color: #888;
        }
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e1e1e1;
            border-radius: 5px;
            margin-top: 15px;
            overflow: hidden;
        }
        .progress {
            height: 100%;
            background-color: #3b8e58;
            border-radius: 5px;
        }
        .welcome {
            height: 100px;
            object-fit: cover;
            margin-bottom: 10px;
        }
        .date {
            font-size: 18px;
            color: white;
            font-weight: bold;
            position: absolute;
            top: 160px;
            right: 20px;
        }
        .target {
            margin-top: 10px;
            font-size: 16px;
        }
        .target button {
            background-color: #3b8e58;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .target button:hover {
            background-color: #2d6f44;
        }

        /* Styling for the BMI Section */
        .bmi-section {
            margin-top: 40px;
            text-align: center;
            background-color: #f8f8f8;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            display: flex; /* Use flexbox for layout */
            align-items: center; /* Vertically center content */
            justify-content: center; /* Horizontally center content */
            gap: 20px; /* Add some space between image and text */
        }

        .bmi-image {
            width: 500px; /* Adjust the image size */
            height: auto;
            margin: 0;
            margin-right: 100px;
        }

        .bmi-text {
            text-align: left; /* Align text to the left */
            color: #333;
        }

        .bmi-section h2 {
            color: #333;
        }

        .bmi-section p {
            color: #555;
            margin: 10px 0;
        }

        .bmi-section ul {
            list-style-type: none;
            padding: 0;
        }

        .bmi-section ul li {
            font-size: 14px;
            color: #333;
        }

         /* Styling for the Profile Picture Upload Section */
        .upload-section {
            margin-top: 230px; /* Adds space between the profile picture and the upload input */
            margin-left: 20px;
        }

        .upload-section input[type="file"] {
            display: block;
            margin-top: 10px;
        }

        /* Profile Update Button Style (Matching Existing Button Style) */
        .profile-info button.upload-button {
            background-color: #3b8e58;
            color: #fff;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        .profile-info button.upload-button:hover {
            background-color: #2d6f44;
        }
    </style>
</head>

<body>
<section class="header">
    <div class="logo">
        <a href="#"><img src="images/Logo.png" alt="logo"></a>
        <p id="fitness">Fitness Tracker</p>
    </div>
    <nav class="navigation">
        <ul>
            <li><a href="home.html" id="home">Home</a></li>
            <li><a href="#" id="logout">Logout</a></li>
        </ul>
    </nav>
</section>

<section id="welcome" class="welcome">
    <div class="welcome">
        <img src="images/Dashboard.png" alt="">
    </div>
    <!-- Current Date Display -->
    <div class="date" id="current-date"></div>
</section>

<div class="container">
    <header>
        <h1>Fitness Tracker Dashboard</h1>
    </header>

    <!-- Overview and Dashboard Section -->
    <div class="overview-dashboard">
        <!-- Profile Overview Section -->
        <div class="overview">
            <!-- Profile Picture Placeholder -->
            <div class="profile-pic">
                <!-- Profile Picture Upload Section (Moved Below the Profile Pic) -->
                <div class="upload-section">
                    <label for="profile-pic-upload" style="display: block;">Upload Profile Picture:</label>
                    <input type="file" id="profile-pic-upload" accept="image/*" onchange="updateProfilePic(event)">
                </div>
            </div>

            <div class="profile-info">
                <h2>John Doe</h2>
                <p>Age: <span id="user-age">30</span></p>
                <p>Weight: <span id="user-weight">75 kg</span></p>
                <p>Height: <span id="user-height">175 cm</span></p>
                <p>Goal: <span id="user-goal">Lose 5 kg</span></p>
                <!-- BMI Calculation -->
                <p><strong>BMI:</strong> <span id="user-bmi">24.49</span></p>

                <!-- Button to update profile -->
                <button onclick="updateProfile()">Update Profile</button>
            </div>
        </div>

        <!-- Fitness Data Dashboard -->
        <div class="dashboard">
            <!-- Steps Card -->
            <div class="card">
                <h2>Steps</h2>
                <div class="value" id="steps">8,250</div>
                <div class="unit">Steps</div>
                <div class="progress-bar">
                    <div class="progress" style="width: 82%" id="steps-progress"></div>
                </div>
                <!-- Target Steps -->
                <div class="target">
                    <strong>Target: </strong><span id="target-steps">10,000</span>
                    <button onclick="setTarget('steps')">Set Target</button>
                </div>
            </div>

            <!-- Calories Card -->
            <div class="card">
                <h2>Calories Burned</h2>
                <div class="value" id="calories">500</div>
                <div class="unit">kcal</div>
                <div class="progress-bar">
                    <div class="progress" style="width: 50%" id="calories-progress"></div>
                </div>
                <!-- Target Calories -->
                <div class="target">
                    <strong>Target: </strong><span id="target-calories">600</span>
                    <button onclick="setTarget('calories')">Set Target</button>
                </div>
            </div>

            <!-- Distance Card -->
            <div class="card">
                <h2>Distance</h2>
                <div class="value" id="distance">6.2</div>
                <div class="unit">km</div>
                <div class="progress-bar">
                    <div class="progress" style="width: 60%" id="distance-progress"></div>
                </div>
                <!-- Target Distance -->
                <div class="target">
                    <strong>Target: </strong><span id="target-distance">8.0</span>
                    <button onclick="setTarget('distance')">Set Target</button>
                </div>
            </div>

            <!-- Active Minutes Card -->
            <div class="card">
                <h2>Active Minutes</h2>
                <div class="value" id="active-minutes">35</div>
                <div class="unit">Minutes</div>
                <div class="progress-bar">
                    <div class="progress" style="width: 70%" id="active-minutes-progress"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- BMI Section -->
    <section class="bmi-section">
        <div class="bmi-image">
            <img src="images/bmi-range.png" alt="BMI Meter" class="bmi-image">
        </div>
        <div class="bmi-text">
            <h2>Your BMI</h2>
            <p>Current BMI: <span id="user-bmi-value">24.49</span></p>

            <ul>
                <li><strong>Underweight:</strong> BMI less than 18.5</li>
                <li><strong>Normal weight:</strong> BMI 18.5 to 24.9</li>
                <li><strong>Overweight:</strong> BMI 25 to 29.9</li>
                <li><strong>Obese:</strong> BMI 30 or higher</li>
            </ul>
        </div>
    </section>
</div>

<section id="footer" class="footer">
    <footer class="footer">
        <h3> Contact us: </h3>
        <ul class="links">
            <li>
                <a href="https://github.com/Munkh-Och/FitnessTracker" target="_blank" aria-label="GitHub">
                    <i class="fab fa-github"></i>
                </a>
            </li>

            <li>
                <a href="mailto:example@gmail.com" aria-label="Email">
                    <i class="fas fa-envelope"></i>
                </a>
            </li>
        </ul>
    </footer>
</section>

<script>
    // Function to update profile picture when a new one is selected
    function updateProfilePic(event) {
        const file = event.target.files[0];
        const reader = new FileReader();

        reader.onloadend = function () {
            // Update the background image of the profile picture div
            document.querySelector('.profile-pic').style.backgroundImage = `url(${reader.result})`;
        };

        if (file) {
            reader.readAsDataURL(file);
        }
    }

    function updateProfile() {
        // Simulate profile update with prompt input
        let newAge = prompt("Enter your new age:", document.getElementById('user-age').innerText);
        let newWeight = prompt("Enter your new weight:", document.getElementById('user-weight').innerText);
        let newHeight = prompt("Enter your new height:", document.getElementById('user-height').innerText);
        let newGoal = prompt("Enter your new goal:", document.getElementById('user-goal').innerText);

        // Update the profile info with new values
        if (newAge) document.getElementById('user-age').innerText = newAge;
        if (newWeight) document.getElementById('user-weight').innerText = newWeight;
        if (newHeight) document.getElementById('user-height').innerText = newHeight;
        if (newGoal) document.getElementById('user-goal').innerText = newGoal;

        // Recalculate BMI after updating weight and height
        calculateBMI();
    }

    function calculateBMI() {
        let weight = parseFloat(document.getElementById('user-weight').innerText); // kg
        let height = parseFloat(document.getElementById('user-height').innerText); // cm
        height = height / 100; // convert to meters
        let bmi = weight / (height * height);
        document.getElementById('user-bmi').innerText = bmi.toFixed(2);
    }

    // Display the current date
    function displayDate() {
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        const today = new Date().toLocaleDateString('en-US', options);
        document.getElementById('current-date').innerText = today;
    }

    // Run the date display function on page load
    displayDate();

    // Function to format numbers with commas
    function formatNumber(number) {
        return number.toLocaleString();
    }

    // Function to set the target for each category (steps, calories, or distance)
    function setTarget(type) {
        // Prompt user to enter the new target value
        let targetValue = prompt(`Enter your target for ${type}:`);
        if (targetValue) {
            targetValue = parseInt(targetValue);
            if (type === 'steps') {
                document.getElementById('target-steps').innerText = formatNumber(targetValue);
                let progress = Math.min(parseInt(document.getElementById('steps').innerText) / targetValue * 100, 100);
                document.getElementById('steps-progress').style.width = progress + '%';
            } else if (type === 'calories') {
                document.getElementById('target-calories').innerText = formatNumber(targetValue);
                let progress = Math.min(parseInt(document.getElementById('calories').innerText) / targetValue * 100, 100);
                document.getElementById('calories-progress').style.width = progress + '%';
            } else if (type === 'distance') {
                document.getElementById('target-distance').innerText = formatNumber(targetValue);
                let progress = Math.min(parseFloat(document.getElementById('distance').innerText) / targetValue * 100, 100);
                document.getElementById('distance-progress').style.width = progress + '%';
            }
        }
    }
</script>

</body>
</html>
